terminar
<body id="sala3" style="background-size: cover; background-position: center; font-family: sans-serif; text-align: center;">

  <h1 id="mensaje" style="color: white;">¡Spammea la tecla correcta!</h1>

  <div id="teclado" style="display: inline-block; margin-top: 30px;">
    <div style="display: flex; justify-content: center;">
      <div class="tecla" id="flechaUp">↑</div>
    </div>
    <div style="display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
      <div class="tecla" id="flechaLeft">←</div>
      <div class="tecla" id="flechaDown">↓</div>
      <div class="tecla" id="flechaRight">→</div>
    </div>
  </div>

  <style>
    .tecla {
      width: 60px;
      height: 60px;
      background-color: #222;
      border: 2px solid #555;
      border-radius: 8px;
      color: white;
      font-size: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
      transition: background-color 0.2s, transform 0.2s;
    }

    .tecla.destacar {
      animation: parpadeoRapido 0.4s infinite;
    }

    @@keyframes parpadeoRapido {
      0%, 100% { background-color: red; color: white; transform: scale(1.1); }
      50% { background-color: #222; color: white; transform: scale(1); }
    }
  </style>

  <script>
    const sala3 = document.getElementById("sala3");
    const mensaje = document.getElementById("mensaje");

    const fases = [
      { tecla: "ArrowUp", imagen: "URL_DE_TU_IMAGEN_AQUI", mensaje: "¡Fase 1! Spam ↑ lo más rápido posible", tiempoLimite: 3000 },
      { tecla: "ArrowDown", imagen: "URL_DE_TU_IMAGEN_AQUI", mensaje: "¡Fase 2! Spam ↓ lo más rápido posible", tiempoLimite: 3500 },
      { tecla: "ArrowLeft", imagen: "URL_DE_TU_IMAGEN_AQUI", mensaje: "¡Fase 3! Spam ← lo más rápido posible", tiempoLimite: 4000 },
      { tecla: "ArrowRight", imagen: "URL_DE_TU_IMAGEN_AQUI", mensaje: "¡Fase Final! Spam → lo más rápido posible", tiempoLimite: 4500 }
    ];

    const flechas = {
      ArrowUp: document.getElementById("flechaUp"),
      ArrowDown: document.getElementById("flechaDown"),
      ArrowLeft: document.getElementById("flechaLeft"),
      ArrowRight: document.getElementById("flechaRight")
    };

    let faseActual = 0;
    let pulsaciones = 0;
    let faseEnCurso = false;
    let tiempoInicio = 0;
    let temporizador = null;
    const pulsacionesRequeridas = 15;
    const pausaEntreFases = 2000;

    function destacarFlecha(tecla) {
      Object.values(flechas).forEach(el => el.classList.remove("destacar"));
      if (flechas[tecla]) {
        flechas[tecla].classList.add("destacar");
      }
    }

    function iniciarFase() {
      if (faseActual < fases.length) {
        mensaje.textContent = "Preparando siguiente fase...";
        sala3.style.backgroundImage = "none";
        faseEnCurso = false;
        destacarFlecha(null);

        setTimeout(() => {
          pulsaciones = 0;
          faseEnCurso = true;
          tiempoInicio = Date.now();

          const fase = fases[faseActual];
          sala3.style.backgroundImage = `url('${fase.imagen}')`;
          mensaje.textContent = `${fase.mensaje} (0/${pulsacionesRequeridas})`;
          destacarFlecha(fase.tecla);

          clearTimeout(temporizador);
          temporizador = setTimeout(() => {
            if (faseEnCurso) {
              faseEnCurso = false;
              if (pulsaciones < pulsacionesRequeridas) {
                mensaje.textContent = "¡Fallaste! Inténtalo de nuevo.";
                sala3.style.backgroundImage = "none";
                destacarFlecha(null);
                faseActual = 0;
                setTimeout(iniciarFase, pausaEntreFases);
              }
            }
          }, fase.tiempoLimite);
        }, pausaEntreFases);
      } else {
        mensaje.textContent = "¡Evento completado!";
        sala3.style.backgroundImage = "url('')";
        destacarFlecha(null);
        <button id="padbtn">Mostrar pad</button>
      }
    }

    document.addEventListener("keydown", (event) => {
      if (!faseEnCurso) return;

      const fase = fases[faseActual];

      if (event.key === fase.tecla) {
        pulsaciones++;
        mensaje.textContent = `${fase.mensaje} (${pulsaciones}/${pulsacionesRequeridas})`;

        if (pulsaciones >= pulsacionesRequeridas) {
          faseEnCurso = false;
          clearTimeout(temporizador);
          faseActual++;
          destacarFlecha(null);
          iniciarFase();
        }
      } else {
        faseEnCurso = false;
        clearTimeout(temporizador);
        mensaje.textContent = "¡Tecla incorrecta! Inténtalo de nuevo.";
        sala3.style.backgroundImage = "none";
        destacarFlecha(null);
        faseActual = 0;
        setTimeout(iniciarFase, pausaEntreFases);
      }
    });

    iniciarFase();
  </script>
  </body>
  <body>
  <div id="pad" style="display: none;">
    <input type="text" id="pad-display" readonly />
    <div id="numpad">
      <button class="num-key" data-value="1">1</button>
      <button class="num-key" data-value="2">2</button>
      <button class="num-key" data-value="3">3</button>
      <button class="num-key" data-value="4">4</button>
      <button class="num-key" data-value="5">5</button>
      <button class="num-key" data-value="6">6</button>
      <button class="num-key" data-value="7">7</button>
      <button class="num-key" data-value="8">8</button>
      <button class="num-key" data-value="9">9</button>
      <button class="num-key" data-value="0">0</button>
      <button id="clear">C</button>
      <button id="submit">S</button>
    </div>
  </div>
  <script>
    const display = document.getElementById("pad-display");
    const numKeys = document.querySelectorAll(".num-key");
    const clearButton = document.getElementById("clear");
    const submitButton = document.getElementById("submit");

    numKeys.forEach((key) => {
      key.addEventListener("click", () => {
        if (display.value.length < 5) {
          display.value += key.getAttribute("data-value");
        }
      });
    });

    clearButton.addEventListener("click", () => {
      display.value = "";
    });

    document.getElementById("padbtn").addEventListener("click", () => {
      document.getElementById("pad").style.display = "block";
    });

    submitButton.addEventListener("click", () => {
      const inputValue = display.value;
      if (inputValue && inputValue.length === 5) {
        const data = { value: inputValue };
        fetch('/sala3', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(response => response.json())
          .then(responseData => {
            console.log('Respuesta del servidor:', responseData);
          })
          .catch(error => {
            console.error('Error al enviar los datos:', error);
          });
      } else {
        alert('Por favor, ingrese un número válido de 5 dígitos');
      }
    });
  </script>

  <style>
    #pad {
      max-width: 200px;
      margin: 20px auto;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 8px;
      background-color: #f7f7f7;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #pad-display {
      width: 100%;
      height: 40px;
      font-size: 24px;
      text-align: right;
      margin-bottom: 10px;
      padding: 5px 10px;
      box-sizing: border-box;
      border: 1px solid #aaa;
      border-radius: 4px;
      background-color: #fff;
    }

    #numpad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    #numpad button {
      padding: 15px;
      font-size: 18px;
      border: none;
      border-radius: 6px;
      background-color: #e0e0e0;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    #numpad button:hover {
      background-color: #d0d0d0;
    }

    #clear {
      background-color: #f8d7da;
    }

    #clear:hover {
      background-color: #f5c2c7;
    }

    #submit {
      background-color: #d4edda;
    }

    #submit:hover {
      background-color: #c3e6cb;
    }
  </style>
</body>